<div class="form-container">
  <form [formGroup]="form" (ngSubmit)="updateResidents()">
    <h1>Editar Morador</h1>

    <label for="name">Nome:</label>
    <input type="text" id="name" formControlName="name" placeholder="Nome" />
    <small *ngIf="formControls['name'].touched && formControls['name'].invalid">
      {{ formControls["name"].errors?.['required'] ? "Nome é obrigatório" : "" }}
      {{ formControls["name"].errors?.['minlength'] ? "Nome deve ter pelo menos 2 caracteres" : "" }}
      {{ formControls["name"].errors?.['maxlength'] ? "Nome não pode exceder 100 caracteres" : "" }}
    </small>

    <label for="rg">RG:</label>
    <input
      type="text"
      id="rg"
      formControlName="rg"
      placeholder="RG"
      numbersOnly
    />
    <small *ngIf="formControls['rg'].touched && formControls['rg'].invalid">
      {{ formControls["rg"].errors?.['required'] ? "RG é obrigatório" : "" }}
      {{ formControls["rg"].errors?.['minlength'] ? "RG deve ter pelo menos 8 dígitos" : "" }}
      {{ formControls["rg"].errors?.['maxlength'] ? "RG não pode exceder 12 dígitos" : "" }}
    </small>

    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      placeholder="Email"
    />
    <small
      *ngIf="formControls['email'].touched && formControls['email'].invalid"
    >
      {{ formControls["email"].errors?.['required'] ? "Email é obrigatório" : "" }}
      {{ formControls["email"].errors?.['email'] ? "Email inválido" : "" }}
      {{ formControls["email"].errors?.['maxlength'] ? "Email não pode exceder 100 caracteres" : "" }}
    </small>

    <label for="phone">Telefone:</label>
    <input
      type="text"
      id="phone"
      formControlName="phone"
      placeholder="Telefone"
      appPhoneMask
    />
    <small
      *ngIf="formControls['phone'].touched && formControls['phone'].invalid"
    >
      {{ formControls["phone"].errors?.['required'] ? "Telefone é obrigatório" : "Telefone inválido (formato: (00) 00000-0000)" }}
    </small>

    <label for="address">Endereço:</label>
    <input
      type="text"
      id="address"
      formControlName="address"
      placeholder="Endereço"
    />
    <small
      *ngIf="formControls['address'].touched && formControls['address'].invalid"
    >
      {{ formControls["address"].errors?.['required'] ? "Endereço é obrigatório" : "" }}
      {{ formControls["address"].errors?.['minlength'] ? "Endereço deve ter pelo menos 5 caracteres" : "" }}
      {{ formControls["address"].errors?.['maxlength'] ? "Endereço não pode exceder 200 caracteres" : "" }}
    </small>

    <button type="submit" [disabled]="form.invalid || isSubmitting()">
      {{ isSubmitting() ? "Salvando..." : "Salvar" }}
    </button>
  </form>
</div>
